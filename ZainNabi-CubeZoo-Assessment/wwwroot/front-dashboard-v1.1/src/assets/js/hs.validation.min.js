/*
* Validation wrapper
* @version: 2.0.0 (Mon, 25 Nov 2019)
* @requires: jQuery v3.0 or later, jQuery Validation v1.19.1
* @author: HtmlStream
* @event-namespace: .HSCore.components.HSValidation
* @license: Htmlstream Libraries (https://htmlstream.com/licenses)
* Copyright 2020 Htmlstream
*/
(function(n){"use strict";n.HSCore.components.HSValidation={defaults:{errorElement:"div",errorClass:"invalid-feedback"},init:function(t,i){var f;if(t.length){var r=this,e=Object.assign({},r.defaults),o=t.attr("data-hs-validation-options")?JSON.parse(t.attr("data-hs-validation-options")):{},u={errorPlacement:r.errorPlacement,highlight:r.highlight,unhighlight:r.unHighlight,submitHandler:r.submitHandler,onkeyup:function(t){n(t).valid()}};return u=n.extend(!0,e,u,o,i),t.hasClass("js-step-form")?n.validator.setDefaults({ignore:":hidden:not(.active select)"}):n.validator.setDefaults({ignore:":hidden:not(select)"}),f=t.validate(u),t.find("select").length&&t.find("select").change(function(){n(this).valid()}),f}},rules:function(t){var i=Array.prototype.slice.call(arguments,1);n.fn.rules.apply(t,i)},errorPlacement:function(t,i){var r=n(i),u=r.data("error-msg-classes");t.addClass(u);t.appendTo(i.parents(".js-form-message"))},highlight:function(t){var i=n(t),f=i.data("error-class")?i.data("error-class"):"is-invalid",e=i.data("success-class")?i.data("error-class"):"is-valid",r=i.parents(".js-form-message").first(),u=i;r.data("validate-state")!==undefined?u=r:r.find("[data-validate-state]").length&&(u=r.find("[data-validate-state]"));u.removeClass(e).addClass(f)},unHighlight:function(t){var i=n(t),f=i.data("error-class")?i.data("error-class"):"is-invalid",e=i.data("success-class")?i.data("error-class"):"is-valid",r=i.parents(".js-form-message").first(),u=i;r.data("validate-state")!==undefined?u=r:r.find("[data-validate-state]").length&&(u=r.find("[data-validate-state]"));u.removeClass(f).addClass(e)},submitHandler:function(n){n.submit()}}})(jQuery);